## このリポジトリについて

**パッと始めるNuxt3用テンプレート**

## 開発環境の立ち上げ方

このプロジェクトはパッケージマネージャとして`pnpm`を使用しています。

```json
{
  "engines": {
    "node": "22.14.0",
    "pnpm": "9.15.5"
  }
}
```

```bash
pnpm install
```

```bash
pnpm dev
```

これで開発環境が立ち上がります。

sampleファイルがいくつか用意されているため、それらを削除することを忘れないでください :)

## ディレクトリ構造の例

お好きなディレクトリ構成で開発してください。
srcディレクトリ配下のディレクトリの役割は以下です。

```bash
src/
├── app.vue                  # アプリケーションのルートコンポーネント
│                           # すべてのページで共有されるレイアウトを定義可能
│
├── assets/                 # 画像やCSSなどの静的ファイルを定義するディレクトリ
│                           # ビルド時に処理・最適化される
│
├── components/             # 再利用可能なVueコンポーネントを定義するディレクトリ
│
├── composables/            # Vue 3 Composition APIを使用した再利用可能なロジックを定義
│                           # useXxxの形式で命名することが推奨される
│
├── constants/              # アプリケーション全体で使用される定数を定義
│                           # 環境変数以外の静的な値を管理
│
├── layouts/                # ページレイアウトを定義するディレクトリ
│                           # default.vueが基本レイアウトとして使用される
│
├── lib/                    # サードパーティライブラリに依存するロジックを定義
│                           # ライブラリのラッパーやカスタム設定を配置
│
├── middleware/             # ページ遷移時に実行されるミドルウェアを定義
│                           # グローバルミドルウェア（全ルート対象）
│                           # ページミドルウェア（特定ページ対象）の2種類が利用可能
│
├── pages/                  # ページコンポーネントを定義するディレクトリ
│                           # ファイルベースのルーティングにより自動的にルートが生成される
│                           # 動的ルーティングは[id].vueのような命名で実現
│
├── plugins/                # Vueインスタンス生成時に実行されるプラグインを定義
│                           # グローバルコンポーネント、関数、変数の登録に使用
│
├── public/                 # 静的ファイルを配置するディレクトリ
│                           # favicon.ico, robots.txt等
│                           # ビルド時に処理されず、そのまま/ルートで配信される
│
├── server/                 # サーバーサイドのロジックを定義
│                           # APIエンドポイント、サーバーミドルウェア等
│                           # api/ディレクトリ内のファイルは自動的にAPIエンドポイントとして扱われる
│
├── services/               # APIコールを行うロジックを定義するディレクトリ
│
├── store/                  # Piniaを使用した状態管理を定義
│
├── test/                   # テストファイルを配置
│                           # ユニットテスト、E2Eテスト等
│
├── types/                  # TypeScriptの型定義ファイルを配置
│
└── utils/                  # 純粋なJavaScript/TypeScriptユーティリティを定義
```

## GitHub Actionsについて

mainブランチに対してPRを作成すると、静的解析とテスト、ビルドが実行されます。

1. 型チェック
2. ESLint/Prettierの静的解析
3. テスト
4. ビルド

成功したかどうかはプルリクエストのステータスを御覧ください。

## 実装されているESLintカスタムルール

ご自身の環境にあわせてカスタムルールを`off`にしてください。

### settings/rules/store-state-suffix.js

storeに定義されているstateで、`storeToRefs`を使用して分割代入をする時、

```ts
const { foo } = storeToRefs(fooStore);
```

とするのではなく

```ts
const { foo: fooState } = storeToRefs(fooStore);
```

というように、state名に`State`という接尾辞を付けることを強制したルール。
（gettersもstoreToRefsを使用して分割代入するので、区別できるように）

### ルールの追加方法

`settings/rules/src`配下にルール用のファイルを作成し、`pnpm build:custom-lint`したものが`settings/rules/dist`に出力されます。
それを`settings/rules/index.js`で読み込み、`eslint.config.mjs`で有効にしてください。
